
#http://www.commandlinefu.com/commands/matching/quote/cXVvdGU=/sort-by-votes
quote(){
#local str=$(curl -Is slashdot.org | egrep '^X-(F|B|L)' | cut -d \- -f 2)
#function google { Q="$@"; GOOG_URL='https://www.google.de/search?tbs=li:1&q='; AGENT="Mozilla/4.0"; stream=$(curl -A "$AGENT" -skLm 10 "${GOOG_URL}${Q//\ /+}" | grep -oP '\/url\?q=.+?&amp' | sed 's|/url?q=||; s|&amp||'); echo -e "${stream//\%/\x}"; }

curl -s http://bash.org/?random1|grep -oE "<p class=\"quote\">.*</p>.*</p>"|grep -oE "<p class=\"qt.*?</p>"|sed -e 's/<\/p>/\n/g' -e 's/<p class=\"qt\">//g' -e 's/<p class=\"qt\">//g'|perl -ne 'use HTML::Entities;print decode_entities($_),"\n"'|head -1 > /tmp/random.txt
local str=`cat /tmp/random.txt`
notify-send 'random-world:' "$str"


}
tale(){

exo-open http://teaching-tales.org/
}
pick_line(){
    trace "pick_line() got: $1"

    local file=$1
    local files1=$(ls  $file 2> /dev/null )
    if [ ! "$files1" ];then
        #error_handler 
        trace 'no file'
        return
    fi

    local str=`cat $file | sort --random-sort | head -n 1`

    trace "choosen line: "
    trace "$str"

    echo "$str" 
}


random_line(){

    local str=`cat $file | sort --random-sort | head -n 1`
}

#quote

random_quote_before(){
        $tasks_sh motivation short 

}

random_quote_after(){
        $tasks_sh motivation guidance 
}
random_from_subject1(){

#notify-send "$*"  "$0" 
local subject="$1"
local file=$(get_filename1 txt $subject )
local line=$(pick_line $file)
echo "$line"
}
random1()
{
    local num="$1"
    if [ $num -eq 0 ];then
        #error_handler
        trace 'no num'
        return
    fi

    let "r = $RANDOM % $num"
    #green "r = $r"
    #counter=$r
    #let "reminder = $counter % 4"
    #echo1 "the reminder is: $reminder"
    return $r
}


export -f random_line
export -f quote 
export -f random1 
export -f random_from_subject1
export -f pick_line
