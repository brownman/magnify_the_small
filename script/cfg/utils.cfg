casperjs(){
trace ''
}
scrapy(){
trace ''
}
is_valid(){
    debug   "is_valid() got:"
    debug   "1:$1 2:$2"

    if [ "$1" = '' ];then
        notify-send 'no arg given'
        #error_handler
        #return
        die
    fi

    local file=$1
    local result=0
    debug  'check existance'

    local res=$(ls $file 1>/dev/null 2>&1 && echo 'y' || echo 'n')
    if [ "$res" = 'y' ];then
        if  [ -s $file ];then
            debug  'file has content'
            actualsize=$(du -b "$file" | cut -f 1)
            #assert_equal_str $actualsize
            notify-send1 "actual size:" "$actualsize"

            if [ $actualsize -lt 2 ];then
                debug   'file is corrupted'
                let "result = 2"
            else
                debug  'file seems ok'
                let "result = 1"
            fi
        else
            debug  'file is empty'

                let "result = 3"
        fi
    else
        debug  'file not exist'

                let "result = 4"
    fi
    #assert_equal_str "is_valid: $result"
    return $result
}


export -f is_valid 
